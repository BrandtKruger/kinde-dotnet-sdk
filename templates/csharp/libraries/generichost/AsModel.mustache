            // This logic may be modified with the AsModel.mustache template
            if (!IsSuccessStatusCode)
            {
                // Do not swallow non-success responses.
                throw new System.Net.Http.HttpRequestException("Non-success HTTP response. Body: " + RawContent);
            }
            if (string.IsNullOrWhiteSpace(RawContent) || RawContent.Trim().Equals("null", System.StringComparison.OrdinalIgnoreCase))
            {
                return default;
            }
            try
            {
                if (typeof(T) == typeof(string))
                {
                    return (T)(object)RawContent;
                }
                return System.Text.Json.JsonSerializer.Deserialize<T>(
                    RawContent,
                    _jsonSerializerOptions ?? new System.Text.Json.JsonSerializerOptions()
                );
            }
            catch (System.Text.Json.JsonException ex)
            {
                // Surface deserialization failures with context.
                throw new System.Text.Json.JsonException(
                    $"Failed to deserialize to {typeof(T).FullName}: {ex.Message}",
                    ex
                );
            }
